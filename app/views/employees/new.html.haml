%h1 Sign up

- if @employee.errors.any?
  #error_explanation
    %h2 
      #{pluralize(@employee.errors.count, "error")} prohibited this @employee from being saved:
    %ul
    - @employee.errors.full_messages.each do |message|
      %li= message

= form_with model: @employee, local: true do |f| 
  %div
    = f.label :name
    = f.text_field :name
  
  %div
    = f.label :email
    = f.email_field :email
  
  %div
    = f.label :admin
    = f.check_box :employee, {}, true, false
  
  %div
    = f.label :password
    = f.password_field :password
  
  %div
    = f.label :password_confirmation
    = f.password_field :password_confirmation
  
  %h3 '直近の職歴' 
    = f.fields_for :careers, @employee.careers.build do |p|
      %div
        %p #{times_count+1}社目
        = p.label :company_name
        = p.text_field :company_name
      %div
        = p.label :join_date
        = p.date_field :join_date, {}
      %div
        = p.label :turnover_date
        = p.date_field :turnover_date, {}
        
  = f.submit "Create my account"
  